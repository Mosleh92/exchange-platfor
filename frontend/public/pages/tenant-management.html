
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üè¢ Tenant Management - Multi-Tenant SaaS Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet">
    <script src="../js/language.js"></script>
    <script src="../js/auth.js"></script>
    <script src="../js/demo-controls.js"></script>
    <script src="../js/navigation-fix.js"></script>
</head>
<body class="bg-gray-100">
    
    <!-- Header -->
    <header class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg">
        <div class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-4">
                    <i class="fas fa-building text-3xl"></i>
                    <div>
                        <h1 class="text-2xl font-bold">Tenant Management</h1>
                        <p class="text-indigo-200 text-sm">Manage Exchanger Businesses & Subscriptions</p>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="header-nav flex items-center space-x-4"></div>
                    <div class="bg-indigo-700 px-3 py-1 rounded-full text-sm">
                        <i class="fas fa-building text-xs mr-1"></i>
                        <span>2,847 Active Tenants</span>
                    </div>
                    <a href="dashboard.html" class="bg-indigo-700 px-4 py-2 rounded hover:bg-indigo-800">
                        <i class="fas fa-arrow-left"></i> Dashboard
                    </a>
                </div>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-6 py-8">
        
        <!-- Tenant Overview Stats -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-lg shadow-lg p-6 border-l-4 border-green-500">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Active Tenants</p>
                        <h3 class="text-2xl font-bold text-gray-800">2,847</h3>
                        <p class="text-green-600 text-sm">‚Üó 89 new this month</p>
                    </div>
                    <div class="bg-green-100 p-3 rounded-full">
                        <i class="fas fa-building text-green-600 text-2xl"></i>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6 border-l-4 border-blue-500">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Monthly Revenue</p>
                        <h3 class="text-2xl font-bold text-gray-800">$14.2M</h3>
                        <p class="text-blue-600 text-sm">$5K AED per tenant/year</p>
                    </div>
                    <div class="bg-blue-100 p-3 rounded-full">
                        <i class="fas fa-dollar-sign text-blue-600 text-2xl"></i>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6 border-l-4 border-purple-500">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">P2P Transactions</p>
                        <h3 class="text-2xl font-bold text-gray-800">1,247</h3>
                        <p class="text-purple-600 text-sm">Inter-exchanger trades</p>
                    </div>
                    <div class="bg-purple-100 p-3 rounded-full">
                        <i class="fas fa-handshake text-purple-600 text-2xl"></i>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6 border-l-4 border-orange-500">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Pending Approvals</p>
                        <h3 class="text-2xl font-bold text-gray-800">23</h3>
                        <p class="text-orange-600 text-sm">New applications</p>
                    </div>
                    <div class="bg-orange-100 p-3 rounded-full">
                        <i class="fas fa-clock text-orange-600 text-2xl"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tenant Management Actions -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold">üè¢ Tenant Management Actions</h2>
                <button onclick="addNewTenant()" class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700">
                    <i class="fas fa-plus mr-2"></i>Add New Tenant
                </button>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                    <div class="text-center">
                        <div class="bg-blue-100 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center">
                            <i class="fas fa-search text-blue-600 text-2xl"></i>
                        </div>
                        <h3 class="text-lg font-semibold mb-2">Search Tenants</h3>
                        <p class="text-gray-600 text-sm mb-4">Find and manage existing exchanger businesses</p>
                        <button onclick="openTenantSearch()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
                            Open Search
                        </button>
                    </div>
                </div>
                
                <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                    <div class="text-center">
                        <div class="bg-green-100 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center">
                            <i class="fas fa-chart-bar text-green-600 text-2xl"></i>
                        </div>
                        <h3 class="text-lg font-semibold mb-2">Tenant Analytics</h3>
                        <p class="text-gray-600 text-sm mb-4">View performance and usage statistics</p>
                        <button onclick="viewTenantAnalytics()" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
                            View Analytics
                        </button>
                    </div>
                </div>
                
                <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                    <div class="text-center">
                        <div class="bg-purple-100 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center">
                            <i class="fas fa-cog text-purple-600 text-2xl"></i>
                        </div>
                        <h3 class="text-lg font-semibold mb-2">System Settings</h3>
                        <p class="text-gray-600 text-sm mb-4">Configure platform-wide settings</p>
                        <button onclick="openSystemSettings()" class="bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700">
                            Open Settings
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recent Tenants Table -->
        <div class="bg-white rounded-lg shadow-lg p-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold">üìã Recent Tenant Activities</h2>
                <div class="flex space-x-3">
                    <select class="border rounded px-3 py-2">
                        <option>All Tenants</option>
                        <option>Active Only</option>
                        <option>Pending Approval</option>
                        <option>Suspended</option>
                    </select>
                    <button onclick="refreshTenantList()" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>
            
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead>
                        <tr class="border-b">
                            <th class="text-left py-3">Tenant Name</th>
                            <th class="text-left py-3">Location</th>
                            <th class="text-left py-3">Status</th>
                            <th class="text-left py-3">Subscription</th>
                            <th class="text-left py-3">P2P Active</th>
                            <th class="text-left py-3">Last Activity</th>
                            <th class="text-left py-3">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="border-b hover:bg-gray-50">
                            <td class="py-3">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                                        <i class="fas fa-building text-blue-600"></i>
                                    </div>
                                    <div>
                                        <div class="font-medium">Dubai Gold Exchange</div>
                                        <div class="text-sm text-gray-600">ID: DGE001</div>
                                    </div>
                                </div>
                            </td>
                            <td class="py-3">üá¶üá™ Dubai, UAE</td>
                            <td class="py-3">
                                <span class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs">Active</span>
                            </td>
                            <td class="py-3">
                                <div class="text-sm">Premium</div>
                                <div class="text-xs text-gray-600">$5,000 AED/year</div>
                            </td>
                            <td class="py-3">
                                <span class="bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs">Yes</span>
                            </td>
                            <td class="py-3">
                                <div class="text-sm">2 hours ago</div>
                                <div class="text-xs text-gray-600">P2P Trade</div>
                            </td>
                            <td class="py-3">
                                <div class="flex space-x-2">
                                    <button onclick="viewTenant('DGE001')" class="text-blue-600 hover:text-blue-800">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button onclick="editTenant('DGE001')" class="text-green-600 hover:text-green-800">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        
                        <tr class="border-b hover:bg-gray-50">
                            <td class="py-3">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
                                        <i class="fas fa-building text-green-600"></i>
                                    </div>
                                    <div>
                                        <div class="font-medium">Tehran Exchange Co</div>
                                        <div class="text-sm text-gray-600">ID: TEC002</div>
                                    </div>
                                </div>
                            </td>
                            <td class="py-3">üáÆüá∑ Tehran, Iran</td>
                            <td class="py-3">
                                <span class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs">Active</span>
                            </td>
                            <td class="py-3">
                                <div class="text-sm">Premium</div>
                                <div class="text-xs text-gray-600">$5,000 AED/year</div>
                            </td>
                            <td class="py-3">
                                <span class="bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs">Yes</span>
                            </td>
                            <td class="py-3">
                                <div class="text-sm">15 min ago</div>
                                <div class="text-xs text-gray-600">Rate Update</div>
                            </td>
                            <td class="py-3">
                                <div class="flex space-x-2">
                                    <button onclick="viewTenant('TEC002')" class="text-blue-600 hover:text-blue-800">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button onclick="editTenant('TEC002')" class="text-green-600 hover:text-green-800">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        
                        <tr class="border-b hover:bg-gray-50">
                            <td class="py-3">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center">
                                        <i class="fas fa-building text-orange-600"></i>
                                    </div>
                                    <div>
                                        <div class="font-medium">Riyadh Money Services</div>
                                        <div class="text-sm text-gray-600">ID: RMS003</div>
                                    </div>
                                </div>
                            </td>
                            <td class="py-3">üá∏üá¶ Riyadh, Saudi</td>
                            <td class="py-3">
                                <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">Pending</span>
                            </td>
                            <td class="py-3">
                                <div class="text-sm">Standard</div>
                                <div class="text-xs text-gray-600">$3,000 AED/year</div>
                            </td>
                            <td class="py-3">
                                <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs">No</span>
                            </td>
                            <td class="py-3">
                                <div class="text-sm">1 hour ago</div>
                                <div class="text-xs text-gray-600">Registration</div>
                            </td>
                            <td class="py-3">
                                <div class="flex space-x-2">
                                    <button onclick="approveTenant('RMS003')" class="text-green-600 hover:text-green-800">
                                        <i class="fas fa-check"></i>
                                    </button>
                                    <button onclick="rejectTenant('RMS003')" class="text-red-600 hover:text-red-800">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="mt-4 flex justify-between items-center">
                <div class="text-sm text-gray-600">
                    Showing 3 of 2,847 tenants
                </div>
                <div class="flex space-x-2">
                    <button class="px-3 py-1 border rounded hover:bg-gray-50">Previous</button>
                    <button class="px-3 py-1 border rounded hover:bg-gray-50">Next</button>
                </div>
            </div>
        </div>

    </div>

    <script>
    // Tenant Management Functions
    function addNewTenant() {
        showNotification('üè¢ Opening new tenant registration form...', 'info');
        // Open modal or redirect to new tenant form
    }

    function openTenantSearch() {
        showNotification('üîç Opening tenant search interface...', 'info');
    }

    function viewTenantAnalytics() {
        showNotification('üìä Loading tenant analytics dashboard...', 'info');
        window.location.href = 'reports.html#tenant-analytics';
    }

    function openSystemSettings() {
        showNotification('‚öôÔ∏è Opening system configuration...', 'info');
    }

    function viewTenant(tenantId) {
        showNotification(`üëÅÔ∏è Viewing details for tenant: ${tenantId}`, 'info');
    }

    function editTenant(tenantId) {
        showNotification(`‚úèÔ∏è Editing tenant: ${tenantId}`, 'info');
    }

    function approveTenant(tenantId) {
        showNotification(`‚úÖ Tenant ${tenantId} approved successfully!`, 'success');
    }

    function rejectTenant(tenantId) {
        showNotification(`‚ùå Tenant ${tenantId} application rejected.`, 'error');
    }

    function refreshTenantList() {
        showNotification('üîÑ Refreshing tenant list...', 'info');
    }

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
            updateHeaderNavigation();
            
            // Check permissions
            if (!hasPermission('tenant_management')) {
                showNotification('‚ö†Ô∏è Access restricted to Super Admin and Exchanger Admin only', 'warning');
                setTimeout(() => {
                    window.location.href = 'dashboard.html';
                }, 2000);
            }
        }, 500);
    });
    </script>

</body>
</html>
